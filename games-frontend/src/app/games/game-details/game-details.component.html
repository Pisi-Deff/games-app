<mat-toolbar>
	<a mat-button routerLink="..">
		<mat-icon>arrow_back</mat-icon>
		<span> Return to list</span>
	</a>
	<span class="spacer"></span>
</mat-toolbar>

<div class="hcenter">
	<mat-card *ngIf="game" class="game">
		<mat-card-header>
			<mat-card-title>{{game.name}}</mat-card-title>
			<mat-card-subtitle>AVERAGE REVIEW SCORE HERE</mat-card-subtitle>
		</mat-card-header>

		<mat-divider></mat-divider>

		<mat-card-content class="game__content">
			<div class="game__content__main">
				<p class="game__description">
					<span *ngIf="game.description; else noDescription">
						{{game.description}}
					</span>
					<ng-template #noDescription>
						<em>No description.</em>
					</ng-template>
				</p>

				<mat-divider [inset]="true"></mat-divider>

				<p class="game__tags"><!-- TODO: split into separate component -->
<!--				<mat-form-field class="example-chip-list">-->
					<mat-chip-list #chipList aria-label="Tags">
						<app-game-tag *ngFor="let tag of tags" [tag]="tag"
							[selected]="isSelected(tag)"></app-game-tag>
<!--						<input-->
<!--							placeholder="New fruit..."-->
<!--							#fruitInput-->
<!--							[formControl]="fruitCtrl"-->
<!--							[matAutocomplete]="auto"-->
<!--							[matChipInputFor]="chipList"-->
<!--							[matChipInputSeparatorKeyCodes]="separatorKeysCodes"-->
<!--							[matChipInputAddOnBlur]="addOnBlur"-->
<!--							(matChipInputTokenEnd)="add($event)">-->
						<button *ngIf="hasMoreTags" mat-button type="button"
							(click)="loadMoreTags()" [disabled]="loadingMoreTags"
						>{{loadingMoreTags ? 'Loading...' : 'Load more...'}}</button>
					</mat-chip-list>
<!--					<mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">-->
<!--						<mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">-->
<!--							{{fruit}}-->
<!--						</mat-option>-->
<!--					</mat-autocomplete>-->
<!--				</mat-form-field>-->
				</p>
			</div>

			<mat-divider vertical></mat-divider>

			<div class="game__properties">
				<div class="box-art">
					<img src="/assets/demo-box-art.jpg" />
				</div>

				<div>
					<h4>Release Date</h4>
					<div class="release-date">
						<mat-icon matTooltip="Windows" matTooltipPosition="before">desktop_windows</mat-icon>
						<span>{{releaseDate}}</span>
					</div>

					<!-- fake date just to see what multiple release dates would look like -->
					<div class="release-date">
						<mat-icon matTooltip="Some Other Console or something" matTooltipPosition="before">videogame_asset</mat-icon>
						<span>{{tmpReleaseDate2}}</span>
					</div>
				</div>

				<!-- dummy properties -->
				<div>
					<h4>Universe</h4>
					<div>
						*universe that game takes place in*
					</div>
				</div>

				<div>
					<h4>Series</h4>
					<div>
						*series*
					</div>
				</div>

				<div>
					<h4>Prequel</h4>
					<div>
						*previous game*
					</div>
				</div>

				<div>
					<h4>Sequel</h4>
					<div>
						*next game*
					</div>
				</div>
			</div>
		</mat-card-content>

		<mat-divider></mat-divider>

		<mat-card-content class="reviews"><!-- TODO: split into separate component -->
			<h2>Reviews</h2>

			<app-game-review *ngFor="let review of reviews" [review]="review"></app-game-review>
			<div *ngIf="reviews.length === 0"><em>No reviews yet!</em></div>

			<mat-paginator pageSize="10" hidePageSize
				[length]="reviewsCount"
				showFirstLastButtons></mat-paginator>
		</mat-card-content>
	</mat-card>
</div>
